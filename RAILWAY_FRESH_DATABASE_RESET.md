## ğŸ“Š Î•Î Î™Î›ÎŸÎ“Î— Î‘: ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Î”ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ (Î ÏÎ¿Ï„ÎµÎ¯Î½ÎµÏ„Î±Î¹)

Î‘Ï…Ï„Î® Î· Î¼Î­Î¸Î¿Î´Î¿Ï‚ Î´Î¹Î±Î³ÏÎ¬Ï†ÎµÎ¹ Î¼ÏŒÎ½Î¿ Ï„Î¿Ï…Ï‚ Ï‡ÏÎ·ÏƒÏ„Î­Ï‚ ÎºÎ±Î¹ Ï„Î± Î´ÎµÎ´Î¿Î¼Î­Î½Î± **Ï‡Ï‰ÏÎ¯Ï‚ Î½Î± Ï†Ï„Î¹Î¬Î¾ÎµÏ„Îµ Î½Î­Î¿ database**.

### Î’Î®Î¼Î± 1: ÎˆÏ‡ÎµÏ„Îµ Î‰Î´Î· Ï„Î¿ Cleanup Script

Î¤Î¿ script Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Î®Î´Î· ÏƒÏ„Î¿Î½ Ï†Î¬ÎºÎµÎ»Î¿ ÏƒÎ±Ï‚:
```
linux_version/backend/scripts/cleanup_all_data.py
```

### Î’Î®Î¼Î± 2: Î•ÎºÏ„Î­Î»ÎµÏƒÎ· Cleanup ÏƒÏ„Î¿ Railway (3 Î•ÏÎºÎ¿Î»Î¿Î¹ Î¤ÏÏŒÏ€Î¿Î¹)

**ğŸ”¥ ÎœÎ­Î¸Î¿Î´Î¿Ï‚ 1: Environment Variable (Î Î™ÎŸ Î•Î¥ÎšÎŸÎ›Î—!)**

1. Î Î·Î³Î±Î¯Î½ÎµÏ„Îµ ÏƒÏ„Î¿ **Railway Dashboard** â†’ Backend Service â†’ Variables
2. Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ Î½Î­Î± variable:
   - **Name:** `CLEANUP_DATABASE`
   - **Value:** `true`
3. Î Î±Ï„Î®ÏƒÏ„Îµ **Redeploy** Î® ÎºÎ¬Î½Ï„Îµ **Save** (Î¸Î± redeploy Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î±)
4. Î¤Î¿ cleanup Î¸Î± Ï„ÏÎ­Î¾ÎµÎ¹ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± Î¼Îµ Ï„Î¿ next deployment!

**Î“Î¹Î± Î½Î± ÎºÎ¬Î½ÎµÏ„Îµ clean start Î¼Î¯Î± Ï†Î¿ÏÎ¬:**
- Î ÏÎ¿ÏƒÎ¸Î­ÏƒÏ„Îµ `CLEANUP_DATABASE=true`
- Redeploy
- Î‘Ï†Î±Î¹ÏÎ­ÏƒÏ„Îµ Ï„Î¿ variable
- Redeploy Î¾Î±Î½Î¬

---

**ÎœÎ­Î¸Î¿Î´Î¿Ï‚ 3: Railway CLI Shell (Alternative)**
```bash
# ÎœÎµ Ï„Î¿ Railway CLI
cd linux_version
railway shell

# Î£Ï„Î¿ Railway shell:
cd /app
python manage.py cleanup_all_data --force
```

**âš ï¸ Î£Î—ÎœÎ•Î™Î©Î£Î—:** Î ÏÎ¿Ï„ÎµÎ¯Î½ÎµÏ„Î±Î¹ Î· **ÎœÎ­Î¸Î¿Î´Î¿Ï‚ 1** (Environment Variable) Î³Î¹Î±Ï„Î¯ ÎµÎ¯Î½Î±Î¹ Î· Ï€Î¹Î¿ Î±Ï€Î»Î®!

### Î’Î®Î¼Î± 3: Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ Demo Data

ÎœÎµÏ„Î¬ Ï„Î· Î´Î¹Î±Î³ÏÎ±Ï†Î®, Ï„ÏÎ­Î¾Ï„Îµ Ï„Î¿ auto-initialization:

```bash
# Î£Ï„Î¿ Railway
railway run python3 backend/scripts/auto_initialization.py --force

# Î—Ì:
railway run bash -c "cd backend && python3 scripts/auto_initialization.py --force"
```

**Î—Ì Î±Î½ Ï„ÏÎ­Ï‡ÎµÏ„Îµ ÏƒÏ„Î¿ local Docker:**
```bash
docker exec -it <backend-container-name> python3 scripts/cleanup_all_data.py
docker exec -it <backend-container-name> python3 scripts/auto_initialization.py --force
```

**Î—Ì Î±Î½ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Ï„Î¿ test Î½Î¿Î¼Î¯ÏƒÎ¼Î±Ï„Î¿Ï‚ locally:**
```bash
# Î‘Ï€ÏŒ Ï„Î¿Î½ Ï†Î¬ÎºÎµÎ»Î¿ linux_version/
cd backend
python3 scripts/cleanup_all_data.py
python3 scripts/auto_initialization.py --force
```

### Î¤Î¹ ÎšÎ¬Î½ÎµÎ¹ Ï„Î¿ Script

Î¤Î¿ `cleanup_all_data.py` Î´Î¹Î±Î³ÏÎ¬Ï†ÎµÎ¹ **ÏƒÎµ ÏƒÏ‰ÏƒÏ„Î® ÏƒÎµÎ¹ÏÎ¬**:
1. âœ… **ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÎ¬ Î´ÎµÎ´Î¿Î¼Î­Î½Î±** (transactions, payments, expenses, receipts)
2. âœ… **Î£Ï‡Î­ÏƒÎµÎ¹Ï‚ Î´Î±Ï€Î±Î½ÏÎ½-Î´Î¹Î±Î¼ÎµÏÎ¹ÏƒÎ¼Î¬Ï„Ï‰Î½** (apartment shares, expense apartments)
3. âœ… **Î ÎµÏÎ¹ÏŒÎ´Î¿Ï…Ï‚ ÎºÎ¿Î¹Î½ÏÎ½ Î´Î±Ï€Î±Î½ÏÎ½** (common expense periods)
4. âœ… **Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ Ï…Ï€Î¿Î»Î¿Î¯Ï€Ï‰Î½ Î´Î¹Î±Î¼ÎµÏÎ¹ÏƒÎ¼Î¬Ï„Ï‰Î½** (Î¸Î­Ï„ÎµÎ¹ 0)
5. âœ… **Î‘Î½Î±ÎºÎ¿Î¹Î½ÏÏƒÎµÎ¹Ï‚, Î‘Î¹Ï„Î®Î¼Î±Ï„Î±, Î¨Î·Ï†Î¿Ï†Î¿ÏÎ¯ÎµÏ‚**
6. âœ… **Î£Ï‡Î­ÏƒÎµÎ¹Ï‚ ÎºÏ„Î¹ÏÎ¯Ï‰Î½** (building memberships)
7. âœ… **ÎšÏ„Î¯ÏÎ¹Î± ÎºÎ±Î¹ Î”Î¹Î±Î¼ÎµÏÎ¯ÏƒÎ¼Î±Ï„Î±**
8. âœ… **Î§ÏÎ®ÏƒÏ„ÎµÏ‚** (ÎµÎºÏ„ÏŒÏ‚ superuser)
9. âœ… **Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ superuser password** (admin / admin123456)

### Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Output

```
======================================================================
  ğŸ§¹ ÎšÎ‘Î˜Î‘Î¡Î™Î£ÎœÎŸÎ£ Î’Î‘Î£Î—Î£ Î”Î•Î”ÎŸÎœÎ•ÎÎ©Î
======================================================================
ğŸ“… Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±: 2024-01-15 10:30:45
ğŸ·ï¸  Schema: demo

======================================================================
  ğŸ“Š Î¤Î¡Î•Î§ÎŸÎÎ¤Î•Î£ ÎšÎ‘Î¤Î‘Î£Î¤Î‘Î£Î—
======================================================================
   ğŸ‘¥ Î§ÏÎ®ÏƒÏ„ÎµÏ‚: 25
   ğŸ’° Î£Ï…Î½Î±Î»Î»Î±Î³Î­Ï‚: 150
   ğŸ’³ Î Î»Î·ÏÏ‰Î¼Î­Ï‚: 45
   ğŸ’¸ Î”Î±Ï€Î¬Î½ÎµÏ‚: 30
   ğŸ¢ ÎšÏ„Î¯ÏÎ¹Î±: 3

======================================================================
  âš ï¸  Î•Î Î™Î’Î•Î’Î‘Î™Î©Î£Î—
======================================================================
...
âœ… ÎŸÎ»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎµ Î· Î´Î¹Î±Î³ÏÎ±Ï†Î®!
```
