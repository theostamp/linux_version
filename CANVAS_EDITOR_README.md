# Kiosk Canvas Editor - Visual Drag & Drop Interface

## ğŸ¨ Î•Ï€Î¹ÏƒÎºÏŒÏ€Î·ÏƒÎ·

Î¤Î¿ **Kiosk Canvas Editor** ÎµÎ¯Î½Î±Î¹ Î­Î½Î± Î½Î­Î¿ visual interface Ï€Î¿Ï… ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ ÏƒÏ„Î¿Ï…Ï‚ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î­Ï‚ Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ½ Ï„Î¿ layout Ï„Î¿Ï… kiosk Î¼Îµ drag & drop functionality. Î‘Î½Ï„Î¯ Î³Î¹Î± Î±Ï€Î»Î­Ï‚ Î»Î¯ÏƒÏ„ÎµÏ‚, Ï„ÏÏÎ± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± "Î¶Ï‰Î³ÏÎ±Ï†Î¯ÏƒÎµÏ„Îµ" Ï„Î¿ kiosk ÏƒÎ±Ï‚ ÏƒÎµ Î­Î½Î± visual canvas!

## âœ¨ Î’Î±ÏƒÎ¹ÎºÎ¬ Î§Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬

### ğŸ¯ Visual Canvas Interface
- **Grid-based Layout**: 8x12 grid system Î¼Îµ Î´Ï…Î½Î±Ï„ÏŒÏ„Î·Ï„Î± Ï€ÏÎ¿ÏƒÎ±ÏÎ¼Î¿Î³Î®Ï‚
- **Drag & Drop**: Î£ÏÏÎµÏ„Îµ widgets Î±Ï€ÏŒ Ï„Î·Î½ Ï€Î±Î»Î­Ï„Î± ÏƒÏ„Î¿ canvas
- **Real-time Preview**: Î”ÎµÎ¯Ï„Îµ Î±Î¼Î­ÏƒÏ‰Ï‚ Ï€ÏÏ‚ Î¸Î± Ï†Î±Î¯Î½ÎµÏ„Î±Î¹ Ï„Î¿ kiosk
- **Responsive Design**: Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³ÎµÎ¯ ÏƒÎµ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ ÏƒÏ…ÏƒÎºÎµÏ…Î­Ï‚

### ğŸ¨ Widget Palette
- **Available Widgets**: ÎŒÎ»Î± Ï„Î± Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î± widgets ÏƒÎµ Î¼Î¹Î± Ï€Î»ÎµÏ…ÏÎ¹ÎºÎ® Ï€Î±Î»Î­Ï„Î±
- **Category Organization**: Widgets Î¿ÏÎ³Î±Î½Ï‰Î¼Î­Î½Î± Î±Î½Î¬ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±
- **Visual Icons**: ÎšÎ¬Î¸Îµ widget Î­Ï‡ÎµÎ¹ Ï„Î¿ Î´Î¹ÎºÏŒ Ï„Î¿Ï… ÎµÎ¹ÎºÎ¿Î½Î¯Î´Î¹Î¿
- **Smart Filtering**: ÎœÏŒÎ½Î¿ Ï„Î± Î¼Î·-Ï„Î¿Ï€Î¿Î¸ÎµÏ„Î·Î¼Î­Î½Î± widgets ÎµÎ¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹

### ğŸ”§ Canvas Controls
- **Grid Size**: Î ÏÎ¿ÏƒÎ±ÏÎ¼ÏŒÏƒÏ„Îµ Ï„Î¿ Î¼Î­Î³ÎµÎ¸Î¿Ï‚ Ï„Î¿Ï… grid (4-12 rows, 6-16 cols)
- **Widget Positioning**: ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº Î³Î¹Î± Î½Î± Ï„Î¿Ï€Î¿Î¸ÎµÏ„Î®ÏƒÎµÏ„Îµ widgets
- **Remove Widgets**: Î‘Ï†Î±Î¹ÏÎ­ÏƒÏ„Îµ widgets Î¼Îµ Î­Î½Î± ÎºÎ»Î¹Îº
- **Save Layout**: Î‘Ï€Î¿Î¸Î·ÎºÎµÏÏƒÏ„Îµ Ï„Î¿ layout Î³Î¹Î± Î¼ÎµÎ»Î»Î¿Î½Ï„Î¹ÎºÎ® Ï‡ÏÎ®ÏƒÎ·

## ğŸš€ Î ÏÏ‚ Î½Î± Ï„Î¿ Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ

### 1. Î ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î¿ Canvas Editor
```
Dashboard â†’ Kiosk Widgets â†’ Canvas Editor (toggle button)
```

### 2. Î’Î±ÏƒÎ¹ÎºÎ® Î§ÏÎ®ÏƒÎ·
1. **Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Widget**: ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÎµ Î­Î½Î± widget Î±Ï€ÏŒ Ï„Î·Î½ Ï€Î±Î»Î­Ï„Î±
2. **Î¤Î¿Ï€Î¿Î¸ÎµÏ„Î®ÏƒÏ„Îµ**: ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÎµ Î¼Î¹Î± Î¸Î­ÏƒÎ· ÏƒÏ„Î¿ canvas
3. **Î‘Ï†Î±Î¹ÏÎ­ÏƒÏ„Îµ**: ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¿ ÎºÎ¿Ï…Î¼Ï€Î¯ "X" Ï„Î¿Ï… widget
4. **Î‘Ï€Î¿Î¸Î·ÎºÎµÏÏƒÏ„Îµ**: ÎšÎ¬Î½Ï„Îµ ÎºÎ»Î¹Îº ÏƒÏ„Î¿ "Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Layout"

### 3. Î ÏÎ¿Ï‡Ï‰ÏÎ·Î¼Î­Î½ÎµÏ‚ Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯ÎµÏ‚
- **Grid Size**: Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ Ï„Î± +/- ÎºÎ¿Ï…Î¼Ï€Î¹Î¬ Î³Î¹Î± Î½Î± Î±Î»Î»Î¬Î¾ÎµÏ„Îµ Ï„Î¿ Î¼Î­Î³ÎµÎ¸Î¿Ï‚
- **Preview Mode**: Î”ÎµÎ¯Ï„Îµ Ï€ÏÏ‚ Î¸Î± Ï†Î±Î¯Î½ÎµÏ„Î±Î¹ Ï„Î¿ kiosk
- **Reset Layout**: Î•Ï€Î±Î½Î±Ï†Î­ÏÎµÏ„Îµ ÏŒÎ»Î± Ï„Î± widgets ÏƒÏ„Î·Î½ Ï€Î±Î»Î­Ï„Î±

## ğŸ—ï¸ Î¤ÎµÏ‡Î½Î¹ÎºÎ® Î¥Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ·

### ğŸ“¦ Dependencies
```json
{
  "@dnd-kit/core": "^6.0.8",
  "@dnd-kit/sortable": "^7.0.2", 
  "@dnd-kit/utilities": "^3.2.1"
}
```

### ğŸ¯ Key Components

#### `KioskCanvasEditor.tsx`
- ÎšÏÏÎ¹Î¿ component Ï„Î¿Ï… canvas editor
- Î”Î¹Î±Ï‡ÎµÎ¹ÏÎ¯Î¶ÎµÏ„Î±Î¹ Ï„Î¿ drag & drop logic
- Render Ï„Î¿ grid ÎºÎ±Î¹ Ï„Î·Î½ Ï€Î±Î»Î­Ï„Î±

#### `DraggableWidget.tsx` (embedded)
- Drag & drop widget component
- Î¥Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶ÎµÎ¹ ÎºÎ±Î¹ palette ÎºÎ±Î¹ canvas mode
- Visual feedback ÎºÎ±Ï„Î¬ Ï„Î¿ drag

#### `CanvasGrid.tsx` (embedded)
- Grid visualization component
- Cell click handling
- Widget positioning logic

### ğŸ”„ Data Flow
```
Widget Palette â†’ Drag â†’ Canvas Grid â†’ Save â†’ API â†’ Database
```

### ğŸ“Š State Management
- **Grid State**: Current grid size and occupied cells
- **Widget State**: Available vs placed widgets
- **Drag State**: Currently dragged widget
- **Preview State**: Preview mode toggle

## ğŸ¨ UI/UX Features

### Visual Feedback
- **Drag Preview**: Widget becomes semi-transparent during drag
- **Hover Effects**: Cells highlight when hoverable
- **Occupied Cells**: Blue background for occupied cells
- **Widget Names**: Display widget names in grid cells

### Responsive Design
- **Mobile Friendly**: Touch-friendly drag & drop
- **Tablet Optimized**: Larger touch targets
- **Desktop Enhanced**: Keyboard shortcuts support

### Accessibility
- **Keyboard Navigation**: Full keyboard support
- **Screen Reader**: ARIA labels and descriptions
- **High Contrast**: Clear visual indicators

## ğŸ”§ Configuration

### Grid Settings
```typescript
const GRID_SIZE = {
  rows: 8,    // Default rows
  cols: 12,   // Default columns
};

const CELL_SIZE = 60; // Pixels per cell
```

### Widget Sizing
```typescript
// Default widget sizes
const DEFAULT_SIZES = {
  main_slides: { rowSpan: 3, colSpan: 4 },
  sidebar_widgets: { rowSpan: 2, colSpan: 2 },
  top_bar_widgets: { rowSpan: 1, colSpan: 3 },
  special_widgets: { rowSpan: 1, colSpan: 12 },
};
```

## ğŸš€ Future Enhancements

### Planned Features
- **Widget Resizing**: Drag to resize widgets
- **Snap to Grid**: Automatic grid alignment
- **Templates**: Pre-made layout templates
- **Undo/Redo**: Action history
- **Collaborative Editing**: Multiple users editing

### Advanced Features
- **Widget Customization**: In-canvas widget settings
- **Animation Preview**: See transitions in preview
- **Export/Import**: Share layouts between buildings
- **Version Control**: Layout history and rollback

## ğŸ› Troubleshooting

### Common Issues

#### Widgets Not Dragging
- **Solution**: Check if @dnd-kit is properly installed
- **Debug**: Check browser console for errors

#### Grid Not Updating
- **Solution**: Refresh the page
- **Debug**: Check if widgets are properly saved

#### Permission Errors
- **Solution**: Check building permissions
- **Debug**: Verify user role and building access

### Performance Tips
- **Large Grids**: Use smaller grid sizes for better performance
- **Many Widgets**: Limit widgets per category
- **Browser**: Use modern browsers for best experience

## ğŸ“± Browser Support

### Supported Browsers
- **Chrome**: 90+ âœ…
- **Firefox**: 88+ âœ…
- **Safari**: 14+ âœ…
- **Edge**: 90+ âœ…

### Mobile Support
- **iOS Safari**: 14+ âœ…
- **Chrome Mobile**: 90+ âœ…
- **Samsung Internet**: 14+ âœ…

## ğŸ¯ Best Practices

### Layout Design
1. **Start Simple**: Begin with basic layouts
2. **Group Related**: Place related widgets together
3. **Balance**: Distribute widgets evenly
4. **Test**: Always preview before saving

### Performance
1. **Limit Widgets**: Don't overcrowd the canvas
2. **Optimize Grid**: Use appropriate grid sizes
3. **Save Regularly**: Save your work frequently
4. **Test on Devices**: Preview on actual kiosk devices

## ğŸ”— Related Documentation

- [Kiosk Widgets System](./KIOSK_WIDGETS_README.md)
- [Widget Development Guide](./WIDGET_DEVELOPMENT.md)
- [API Documentation](./API_DOCUMENTATION.md)

---

## ğŸ‰ Î£Ï…Î¼Ï€Î­ÏÎ±ÏƒÎ¼Î±

Î¤Î¿ **Kiosk Canvas Editor** Î¼ÎµÏ„Î±Î¼Î¿ÏÏ†ÏÎ½ÎµÎ¹ Ï„Î· Î´Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Ï„Î¿Ï… kiosk Î±Ï€ÏŒ Î¼Î¹Î± Î±Ï€Î»Î® Î»Î¯ÏƒÏ„Î± ÏƒÎµ Î¼Î¹Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¹ÎºÎ®, visual ÎµÎ¼Ï€ÎµÎ¹ÏÎ¯Î±. ÎœÎµ drag & drop functionality, real-time preview, ÎºÎ±Î¹ intuitive controls, Î¿Î¹ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î­Ï‚ Î¼Ï€Î¿ÏÎ¿ÏÎ½ Ï„ÏÏÎ± Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ½ ÏŒÎ¼Î¿ÏÏ†Î± ÎºÎ±Î¹ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÎºÎ¬ kiosk layouts Î¼Îµ ÎµÏ…ÎºÎ¿Î»Î¯Î±!

**Happy Designing! ğŸ¨âœ¨**
