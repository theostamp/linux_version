# Î‘Î½Î¬Î»Ï…ÏƒÎ·: Î“Î¹Î±Ï„Î¯ Î´ÎµÎ½ Î¼ÎµÏ„Î±Ï†Î­ÏÎ¿Î½Ï„Î±Î¹ Ï„Î± Ï…Ï€ÏŒÎ»Î¿Î¹Ï€Î± ÏƒÏ„Î¿Î½ ÎµÏ€ÏŒÎ¼ÎµÎ½Î¿ Î¼Î®Î½Î±;

**Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:** 10 ÎŸÎºÏ„Ï‰Î²ÏÎ¯Î¿Ï… 2025  
**Î£ÎºÎ¿Ï€ÏŒÏ‚:** Î”Î¹ÎµÏÎµÏÎ½Î·ÏƒÎ· ÎºÎ±Î¹ ÎµÏ€Î¯Î»Ï…ÏƒÎ· Ï„Î¿Ï… Ï€ÏÎ¿Î²Î»Î®Î¼Î±Ï„Î¿Ï‚ Î¼ÎµÏ„Î±Ï†Î¿ÏÎ¬Ï‚ Ï…Ï€Î¿Î»Î¿Î¯Ï€Ï‰Î½

---

## ğŸ” Î— Î£Ï‰ÏƒÏ„Î® Î›Î¿Î³Î¹ÎºÎ® (ÎŒÏ€Ï‰Ï‚ Ï€ÎµÏÎ¹Î³ÏÎ¬Ï†ÎµÏ„Î±Î¹)

### Î£ÎµÎ½Î¬ÏÎ¹Î¿: ÎÎ­Î± Î Î¿Î»Ï…ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î±
1. **ÎšÎ±Ï„Î±Ï‡ÏÏÎ·ÏƒÎ·:** Î•Î³Î³ÏÎ±Ï†Î® ÏƒÏ„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± + Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± "Î Î±ÎºÎ­Ï„Î¿Ï… Î”Î±Ï€Î±Î½ÏÎ½ Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚"
2. **ÎœÎ·Î½Î¹Î±Î¯Î± Î§ÏÎ­Ï‰ÏƒÎ·:** Ï€.Ï‡. 10â‚¬/Î¼Î®Î½Î± management fee
3. **Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± ÎˆÎ½Î±ÏÎ¾Î·Ï‚:** Î‘Ï€ÏŒ Ï„Î·Î½ 1Î· Ï„Î¿Ï… Î¼Î®Î½Î± (Î±Î½ÎµÎ¾Î¬ÏÏ„Î·Ï„Î± Î±Ï€ÏŒ Ï„Î·Î½ Î·Î¼Î­ÏÎ± ÎºÎ±Ï„Î±Ï‡ÏÏÎ·ÏƒÎ·Ï‚)
4. **Î•Î½ÏƒÏ‰Î¼Î¬Ï„Ï‰ÏƒÎ·:** Î¤Î¿ Ï€Î¿ÏƒÏŒ Ï€ÏÎ¿ÏƒÏ„Î¯Î¸ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ ÏƒÏ…Î½Î¿Î»Î¹ÎºÏŒ Ï‡ÏÎ­Î¿Ï‚
5. **ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬:** Î‘Î½ Î´ÎµÎ½ Ï€Î»Î·ÏÏ‰Î¸ÎµÎ¯ â†’ "Î ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½ÎµÏ‚ ÎŸÏ†ÎµÎ¹Î»Î­Ï‚" Ï„Î¿Î½ ÎµÏ€ÏŒÎ¼ÎµÎ½Î¿ Î¼Î®Î½Î±

### ÎŠÎ´Î¹Î± Î»Î¿Î³Î¹ÎºÎ® Î³Î¹Î±:
- âœ… Management Fees (Î”Î±Ï€Î¬Î½ÎµÏ‚ Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚)
- âœ… Reserve Fund (Î‘Ï€Î¿Î¸ÎµÎ¼Î±Ï„Î¹ÎºÏŒ)
- âœ… Î”ÏŒÏƒÎµÎ¹Ï‚ ÎˆÏÎ³Ï‰Î½ (ÏŒÏ„Î±Î½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½)

---

## ğŸ“Š Î ÏÏ‚ Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³ÎµÎ¯ Î¤Î©Î¡Î‘

### `BalanceCalculationService.calculate_historical_balance()`
**Î‘ÏÏ‡ÎµÎ¯Î¿:** `linux_version/backend/financial/balance_service.py`

```python
def calculate_historical_balance(
    apartment: Apartment,
    end_date: date,
    include_management_fees: bool = True,
    include_reserve_fund: bool = False
) -> Decimal:
```

**Î›Î¿Î³Î¹ÎºÎ®:**
1. Î’ÏÎ¯ÏƒÎºÎµÎ¹ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Î´Î±Ï€Î¬Î½ÎµÏ‚ Î Î¡Î™Î Î±Ï€ÏŒ Ï„Î¿ `end_date` (exclusive)
2. Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ Ï‡ÏÎµÏÏƒÎµÎ¹Ï‚ Î±Ï€ÏŒ transactions
3. Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ Ï€Î»Î·ÏÏ‰Î¼Î­Ï‚
4. **Î‘Î½ `include_management_fees=True`:** Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ management fees Î´Ï…Î½Î±Î¼Î¹ÎºÎ¬
5. **Î‘Î½ `include_reserve_fund=True`:** Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ reserve fund Î³Î¹Î± Ï„Î¿Ï…Ï‚ Î¼Î®Î½ÎµÏ‚ ÎµÎ½Ï„ÏŒÏ‚ timeline
6. **Î•Ï€Î¹ÏƒÏ„ÏÎ­Ï†ÎµÎ¹:** `(charges + management_fees + reserve_fund) - payments`

### Î ÏÏ‚ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î³Î¹Î± Previous Balance

**Î‘ÏÏ‡ÎµÎ¯Î¿:** `linux_version/backend/financial/services.py` (Î³ÏÎ±Î¼Î¼Î® 1046)

```python
# Î“Î¹Î± Î¼Î®Î½Î± ÎÎ¿Î­Î¼Î²ÏÎ¹Î¿ 2025:
month_start = date(2025, 11, 1)

# Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ previous_balance (Î¿Ï†ÎµÎ¹Î»Î­Ï‚ Î Î¡Î™Î Ï„Î¿Î½ ÎÎ¿Î­Î¼Î²ÏÎ¹Î¿)
calculated_balance = BalanceCalculationService.calculate_historical_balance(
    apartment, month_start, include_management_fees=True
)

previous_balance = calculated_balance  # ÎŸÏ†ÎµÎ¹Î»Î­Ï‚ Î¼Î­Ï‡ÏÎ¹ 31 ÎŸÎºÏ„Ï‰Î²ÏÎ¯Î¿Ï…
```

---

## âš ï¸ Î Î¡ÎŸÎ’Î›Î—ÎœÎ‘Î¤Î‘ Î ÎŸÎ¥ Î•ÎÎ¤ÎŸÎ Î™Î£Î¤Î—ÎšÎ‘Î

### 1. **Reserve Fund Î”Î•Î ÏƒÏ…Î¼Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ Previous Balance** âŒ

**Î ÏÏŒÎ²Î»Î·Î¼Î±:**
```python
# Î“ÏÎ±Î¼Î¼Î® 1007-1013 ÏƒÏ„Î¿ services.py
calculated_balance = BalanceCalculationService.calculate_historical_balance(
    apartment, month_start, include_management_fees=True
)
# âŒ include_reserve_fund=False (default)
```

**Î‘Ï€Î¿Ï„Î­Î»ÎµÏƒÎ¼Î±:** Î¤Î¿ Î±Ï€Î¿Î¸ÎµÎ¼Î±Ï„Î¹ÎºÏŒ Ï„Ï‰Î½ Ï€ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Ï‰Î½ Î¼Î·Î½ÏÎ½ Î”Î•Î Î¼ÎµÏ„Î±Ï†Î­ÏÎµÏ„Î±Î¹!

**Î£ÎµÎ½Î¬ÏÎ¹Î¿:**
- ÎŸÎºÏ„ÏÎ²ÏÎ¹Î¿Ï‚: Î§ÏÎµÏÎ¸Î·ÎºÎ±Î½ 100â‚¬ Î±Ï€Î¿Î¸ÎµÎ¼Î±Ï„Î¹ÎºÏŒ
- Î”Î¹Î±Î¼Î­ÏÎ¹ÏƒÎ¼Î± Î´ÎµÎ½ Ï€Î»Î®ÏÏ‰ÏƒÎµ
- ÎÎ¿Î­Î¼Î²ÏÎ¹Î¿Ï‚: ÎŸÎ¹ 100â‚¬ Î”Î•Î ÎµÎ¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹ ÏƒÏ„Î¹Ï‚ "Î ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½ÎµÏ‚ ÎŸÏ†ÎµÎ¹Î»Î­Ï‚"!

---

### 2. **Management Fees Ï…Ï€Î¿Î»Î¿Î³Î¯Î¶Î¿Î½Ï„Î±Î¹ CUMULATIVE Î±Î½Ï„Î¯ Î³Î¹Î± ÎœÎ—ÎÎ™Î‘Î™Î•Î£** âš ï¸

**Î ÏÏŒÎ²Î»Î·Î¼Î± ÏƒÏ„Î¿ `balance_service.py` (Î³ÏÎ±Î¼Î¼Î­Ï‚ 162-186):**

```python
if include_management_fees:
    management_expenses = Expense.objects.filter(
        building_id=apartment.building_id,
        category='management_fees',
        date__gte=system_start_date,
        date__lt=month_start  # âŒ ÎŒÎ»Î¿Î¹ Î¿Î¹ Î¼Î®Î½ÎµÏ‚ Î±Ï€ÏŒ Ï„Î·Î½ Î±ÏÏ‡Î®!
    )
    
    # Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÎ¹ Ï„Î¿ Î£Î¥ÎÎŸÎ›ÎŸ ÏŒÎ»Ï‰Î½ Ï„Ï‰Î½ management fees expenses
    total_management_expenses = management_expenses.aggregate(...)
    management_fee_charges = total_management_expenses / total_apartments
```

**Î ÏÏŒÎ²Î»Î·Î¼Î±:** Î‘Ï…Ï„ÏŒ Ï€Î±Î¯ÏÎ½ÎµÎ¹ ÎŸÎ›Î‘ Ï„Î± management fee expenses Î±Ï€ÏŒ system_start_date.

**Î‘Î»Î»Î¬:** Î£Îµ Î­Î½Î± ÏƒÏÏƒÏ„Î·Î¼Î± Î¼Îµ Î´Ï…Î½Î±Î¼Î¹ÎºÎ¬ management fees (ÏŒÏ‡Î¹ Expense records), Î±Ï…Ï„ÏŒ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î¼Î·Î½ Î´Î¿Ï…Î»ÎµÏÎµÎ¹ ÏƒÏ‰ÏƒÏ„Î¬.

---

### 3. **Î”Î¹Ï€Î»Î® Î»Î¿Î³Î¹ÎºÎ® Î³Î¹Î± Management Fees** ğŸ¤”

**Î‘. Î£Ï„Î¿ `BalanceCalculationService` (Î³ÏÎ±Î¼Î¼Î­Ï‚ 162-186):**
- Î¨Î¬Ï‡Î½ÎµÎ¹ Î³Î¹Î± `Expense` objects Î¼Îµ `category='management_fees'`
- ÎšÎ¬Î½ÎµÎ¹ aggregate ÎºÎ±Î¹ equal share distribution

**Î’. Î£Ï„Î¿ `get_apartment_balances()` (Î³ÏÎ±Î¼Î¼Î­Ï‚ 1077-1092):**
```python
management_fee_per_apartment = self.building.management_fee_per_apartment or Decimal('0.00')
if management_fee_per_apartment > 0:
    monthly_management_fee = management_fee_per_apartment * months_to_charge
    expense_share += monthly_management_fee
```

**Î•ÏÏÏ„Î·Î¼Î±:** Î Î¿Î¹Î± ÎµÎ¯Î½Î±Î¹ Î· ÏƒÏ‰ÏƒÏ„Î® Ï€ÏÎ¿ÏƒÎ­Î³Î³Î¹ÏƒÎ·;
- Î”Ï…Î½Î±Î¼Î¹ÎºÎ¬ Î±Ï€ÏŒ `building.management_fee_per_apartment`? (ÏŒÏ€Ï‰Ï‚ Ï€ÎµÏÎ¹Î³ÏÎ¬Ï†ÎµÎ¹Ï‚)
- Î‰ Î±Ï€ÏŒ `Expense` records?

---

## ğŸ¯ Î›Î¥Î£Î•Î™Î£

### Î›ÏÏƒÎ· 1: Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· `include_reserve_fund=True`

**Î Î¿Ï…:** `linux_version/backend/financial/services.py` Î³ÏÎ±Î¼Î¼Î® ~1007

**Î ÏÎ¹Î½:**
```python
calculated_balance = BalanceCalculationService.calculate_historical_balance(
    apartment, month_start, include_management_fees=True
)
```

**ÎœÎµÏ„Î¬:**
```python
calculated_balance = BalanceCalculationService.calculate_historical_balance(
    apartment, month_start, 
    include_management_fees=True,
    include_reserve_fund=True  # âœ… ÎÎ•ÎŸ!
)
```

---

### Î›ÏÏƒÎ· 2: Î”Î¹ÏŒÏÎ¸Ï‰ÏƒÎ· Management Fees Logic

Î§ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ Î½Î± Î±Ï€Î¿Ï†Î±ÏƒÎ¯ÏƒÎ¿Ï…Î¼Îµ:

**Î•Ï€Î¹Î»Î¿Î³Î® Î‘: Î”Ï…Î½Î±Î¼Î¹ÎºÎ¬ Management Fees (Î£Ï…Î½Î¹ÏƒÏ„Î¬Ï„Î±Î¹)**
- Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ¼Îµ `building.management_fee_per_apartment`
- Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶Î¿Ï…Î¼Îµ: `fee_per_apartment Ã— Î¼Î®Î½ÎµÏ‚_Î±Ï€ÏŒ_Î­Î½Î±ÏÎ¾Î·`
- Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ¼Îµ `Transaction` records Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± ÎºÎ¬Î¸Îµ Î¼Î®Î½Î±
- **Î Î»ÎµÎ¿Î½Î­ÎºÏ„Î·Î¼Î±:** Î”ÎµÎ½ Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ manual creation of Expense records

**Î•Ï€Î¹Î»Î¿Î³Î® Î’: Expense-based Management Fees**
- Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ¼Îµ `Expense` Î¼Îµ `category='management_fees'` ÎºÎ¬Î¸Îµ Î¼Î®Î½Î±
- Î¤Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± Ï„Î± Î´Î¹Î±Î²Î¬Î¶ÎµÎ¹ Î±Ï€ÏŒ Ï„Î· Î²Î¬ÏƒÎ·
- **Î Î»ÎµÎ¿Î½Î­ÎºÏ„Î·Î¼Î±:** Î Î¹Î¿ esplicit, Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÏ„Î¿ÏÎ½

---

### Î›ÏÏƒÎ· 3: Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± ÎœÎ·Î½Î¹Î±Î¯Ï‰Î½ Î§ÏÎµÏÏƒÎµÏ‰Î½

**Î ÏÎ¿Ï„ÎµÎ¹Î½ÏŒÎ¼ÎµÎ½Î· Î‘ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ®:**

```python
class MonthlyChargeService:
    """Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î¼Î·Î½Î¹Î±Î¯Ï‰Î½ Ï‡ÏÎµÏÏƒÎµÏ‰Î½"""
    
    @staticmethod
    def create_monthly_charges(building: Building, target_month: date):
        """
        Î”Î·Î¼Î¹Î¿Ï…ÏÎ³ÎµÎ¯ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ Î¼Î·Î½Î¹Î±Î¯ÎµÏ‚ Ï‡ÏÎµÏÏƒÎµÎ¹Ï‚ Î³Î¹Î± Î¼Î¹Î± Ï€Î¿Î»Ï…ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î±:
        - Management Fees
        - Reserve Fund
        - Î”ÏŒÏƒÎµÎ¹Ï‚ ÎˆÏÎ³Ï‰Î½
        
        ÎšÎ±Î»ÎµÎ¯Ï„Î±Î¹:
        - Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î± ÎºÎ¬Î¸Îµ Î¼Î®Î½Î± (cron job)
        - Manual ÏŒÏ„Î±Î½ Î´Î·Î¼Î¹Î¿Ï…ÏÎ³ÎµÎ¯Ï„Î±Î¹ Î½Î­Î± Ï€Î¿Î»Ï…ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î±
        - Retroactive Î³Î¹Î± Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÎ¿ÏÏ‚ Î¼Î®Î½ÎµÏ‚
        """
        # 1. Management Fees
        if building.management_fee_per_apartment:
            MonthlyChargeService._create_management_fee_charge(
                building, target_month
            )
        
        # 2. Reserve Fund
        if MonthlyChargeService._is_reserve_fund_active(building, target_month):
            MonthlyChargeService._create_reserve_fund_charge(
                building, target_month
            )
        
        # 3. Î”ÏŒÏƒÎµÎ¹Ï‚ ÎˆÏÎ³Ï‰Î½
        # TODO: Implement project installments
```

---

## ğŸ”„ Î Î¡ÎŸÎ¤Î•Î™ÎÎŸÎœÎ•ÎÎ— Î¡ÎŸÎ—Î—

### ÎšÎ±Ï„Î¬ Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î½Î­Î±Ï‚ Ï€Î¿Î»Ï…ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î±Ï‚:

```python
# 1. ÎšÎ±Ï„Î±Ï‡ÏÏÎ·ÏƒÎ· Î Î¿Î»Ï…ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î±Ï‚
building = Building.objects.create(
    name="Î Î¿Î»Ï…ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î± Î‘",
    financial_system_start_date=date.today().replace(day=1),  # 1Î· Ï„Î¿Ï… Î¼Î®Î½Î±
    management_fee_per_apartment=Decimal('10.00'),
    ...
)

# 2. Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± ÎœÎ·Î½Î¹Î±Î¯Ï‰Î½ Î§ÏÎµÏÏƒÎµÏ‰Î½ Î³Î¹Î± Ï„ÏÎ­Ï‡Î¿Î½Ï„Î± Î¼Î®Î½Î±
MonthlyChargeService.create_monthly_charges(
    building, 
    date.today().replace(day=1)
)

# 3. Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Transaction records Î³Î¹Î± ÎºÎ¬Î¸Îµ Î´Î¹Î±Î¼Î­ÏÎ¹ÏƒÎ¼Î±
for apartment in building.apartments.all():
    Transaction.objects.create(
        apartment=apartment,
        building=building,
        type='monthly_management_fee',
        amount=building.management_fee_per_apartment,
        date=date.today().replace(day=1),
        description=f"Î”Î±Ï€Î¬Î½ÎµÏ‚ Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚ {month_name}"
    )
```

### ÎšÎ¬Î¸Îµ Î¼Î®Î½Î± (Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î±):

```python
# Cron job Ï€Î¿Ï… Ï„ÏÎ­Ï‡ÎµÎ¹ Ï„Î·Î½ 1Î· ÎºÎ¬Î¸Îµ Î¼Î®Î½Î±
def monthly_charge_job():
    for building in Building.objects.filter(is_active=True):
        MonthlyChargeService.create_monthly_charges(
            building, 
            date.today().replace(day=1)
        )
```

---

## ğŸ“ Î•Î ÎŸÎœÎ•ÎÎ‘ Î’Î—ÎœÎ‘Î¤Î‘

1. **Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· Ï„Î·Ï‚ ÎµÏ€Î¹Î»Î¿Î³Î®Ï‚:**
   - Î”Ï…Î½Î±Î¼Î¹ÎºÎ¬ management fees Î® Expense-based?
   
2. **Î”Î¹ÏŒÏÎ¸Ï‰ÏƒÎ· Ï„Î¿Ï… `include_reserve_fund`:**
   - Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· ÏƒÎµ ÏŒÎ»Î± Ï„Î± ÏƒÎ·Î¼ÎµÎ¯Î± Ï€Î¿Ï… Ï…Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÏ„Î±Î¹ previous_balance
   
3. **Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± `MonthlyChargeService`:**
   - ÎšÎµÎ½Ï„ÏÎ¹ÎºÎ® Ï…Ï€Î·ÏÎµÏƒÎ¯Î± Î³Î¹Î± Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î¼Î·Î½Î¹Î±Î¯Ï‰Î½ Ï‡ÏÎµÏÏƒÎµÏ‰Î½
   
4. **Testing:**
   - Î£ÎµÎ½Î¬ÏÎ¹Î¿ 1: ÎÎ­Î± Ï€Î¿Î»Ï…ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î±, Î¼Î·Î½Î¹Î±Î¯Î± Ï‡ÏÎ­Ï‰ÏƒÎ·, Î¼ÎµÏ„Î±Ï†Î¿ÏÎ¬ ÏƒÏ„Î¿Î½ ÎµÏ€ÏŒÎ¼ÎµÎ½Î¿ Î¼Î®Î½Î±
   - Î£ÎµÎ½Î¬ÏÎ¹Î¿ 2: ÎœÎµÏÎ¹ÎºÎ® Ï€Î»Î·ÏÏ‰Î¼Î®, Ï…Ï€ÏŒÎ»Î¿Î¹Ï€Î¿ Î¼ÎµÏ„Î±Ï†Î­ÏÎµÏ„Î±Î¹
   - Î£ÎµÎ½Î¬ÏÎ¹Î¿ 3: Reserve fund + management fees Î¼Î±Î¶Î¯

5. **Documentation:**
   - Î Î»Î®ÏÎ·Ï‚ Ï„ÎµÎºÎ¼Î·ÏÎ¯Ï‰ÏƒÎ· Ï„Î·Ï‚ Î»Î¿Î³Î¹ÎºÎ®Ï‚ Î¼ÎµÏ„Î±Ï†Î¿ÏÎ¬Ï‚ Ï…Ï€Î¿Î»Î¿Î¯Ï€Ï‰Î½
   - Examples ÎºÎ±Î¹ best practices

---

**Î£Ï…Î¼Ï€Î­ÏÎ±ÏƒÎ¼Î±:** Î¤Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± Î­Ï‡ÎµÎ¹ Ï„Î· Î²Î±ÏƒÎ¹ÎºÎ® Î»Î¿Î³Î¹ÎºÎ®, Î±Î»Î»Î¬ Ï‡ÏÎµÎ¹Î¬Î¶Î¿Î½Ï„Î±Î¹ Ï„ÏÎµÎ¹Ï‚ Î´Î¹Î¿ÏÎ¸ÏÏƒÎµÎ¹Ï‚:
1. âœ… Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· `include_reserve_fund`
2. âš ï¸ Î‘Ï€Î¿ÏƒÎ±Ï†Î®Î½Î¹ÏƒÎ· management fees approach
3. ğŸš€ Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î¿Ï… Î¼Î·Ï‡Î±Î½Î¹ÏƒÎ¼Î¿Ï Î³Î¹Î± Î¼Î·Î½Î¹Î±Î¯ÎµÏ‚ Ï‡ÏÎµÏÏƒÎµÎ¹Ï‚

