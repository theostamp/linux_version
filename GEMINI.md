# GEMINI.md - Οδηγίες & Context Project Διαχείρισης Πολυκατοικιών

## 1. Σκοπός του Project
Ανάπτυξη ενός ολοκληρωμένου συστήματος διαχείρισης κοινοχρήστων, βλαβών και επικοινωνίας για τον Έλληνα διαχειριστή πολυκατοικιών.

## 2. Αρχιτεκτονική & Τεχνολογίες
* **Backend:** Πολλαπλά Django Apps (Python)
    * **billing:** Διαχείριση χρεώσεων και έκδοση κοινοχρήστων.
    * **maintenance:** Καταγραφή και παρακολούθηση αιτημάτων βλάβης.
    * **users:** Διαχείριση λογαριασμών (Διαχειριστές, Ένοικοι).
* **Frontend:** Next.js (TypeScript)
    * **Διαδρομές:** Χρησιμοποιείται το App Router. Υπάρχουν ξεχωριστά dashboards για τον Διαχειριστή και τον Ένοικο.
* **Database:** PostgreSQL.
* **APIs:** RESTful API endpoints που εκτίθενται από το Django.

---

## 3. Αίτημα Πλαισίου & Εργασίες (Context for Analysis)

Το project βρίσκεται σε φάση αρχικής αξιολόγησης αγοράς. Ζητάμε από το Gemini να χρησιμοποιήσει τις παρακάτω πληροφορίες για να μας βοηθήσει στις επόμενες ερωτήσεις μας.

### A. Καταγραφή Λειτουργιών (Λειτουργικός Οδηγός)

Το Gemini πρέπει να αναλύσει τον υπάρχοντα κώδικα (ειδικά τα Django Models, Views και τις Next.js διαδρομές) για να καταγράψει:

1.  **Δυνατότητες Διαχειριστή:** (π.χ. Δημιουργία κτιρίου, Καταχώρηση μετρητή, Εκτύπωση κοινοχρήστων).
2.  **Δυνατότητες Ενοίκου:** (π.χ. Προβολή χρέωσης, Αναφορά βλάβης, Ιστορικό πληρωμών).

### B. Ανταγωνιστικό Πλαίσιο (Ελληνική Αγορά)

Δεν υπάρχει ακόμη ανάλυση ανταγωνισμού. Το Gemini καλείται να παρέχει πληροφορίες για τους **βασικούς ανταγωνιστές** στην ελληνική αγορά διαχείρισης πολυκατοικιών και τις **βασικές λειτουργίες** που αυτοί προσφέρουν, ώστε να συγκρίνουμε τα δικά μας χαρακτηριστικά.

**Εστιάζουμε στους τομείς:**
* Τιμολόγηση (ανά διαμέρισμα/μήνα).
* Υποστήριξη online πληρωμών.
* Εφαρμογή για κινητά (mobile app).

### C. Πιθανές Τεχνικές Βελτιώσεις

Το Gemini πρέπει να αναλύσει τον κώδικα για να προτείνει βελτιώσεις στην τεχνική δομή, λαμβάνοντας υπόψη:

1.  **Απλοποίηση εξαρτήσεων Next.js/Django API:** (Είναι το data fetching βέλτιστο;).
2.  **Performance:** Δυνατότητα κλιμάκωσης (scalability) του Django για μεγάλο αριθμό κτιρίων.
3.  **Security:** Κριτικές για πιθανές ευπάθειες.
---
## Έκθεση Βασικών Λειτουργιών του Project

Βάσει της ανάλυσης του κώδικα στις εφαρμογές `financial` (που αντιστοιχεί στο `billing`) και `maintenance`, καταγράφονται οι παρακάτω βασικές λειτουργίες:

### Οικονομική Διαχείριση (Financial App)

1.  **Διαχείριση Προμηθευτών:**
    *   Δημιουργία και διαχείριση προμηθευτών και συνεργατών (π.χ. ΔΕΗ, ΕΥΔΑΠ, συνεργεία καθαρισμού).
    *   Κατηγοριοποίηση προμηθευτών και αποθήκευση στοιχείων επικοινωνίας και συμβολαίων.

2.  **Διαχείριση Δαπανών:**
    *   Καταχώρηση και κατηγοριοποίηση εξόδων του κτιρίου (π.χ. λογαριασμοί, επισκευές).
    *   Επιμερισμός των δαπανών στα διαμερίσματα βάσει πολλαπλών μεθόδων (χιλιοστά, ισόποσα, κ.ά.).
    *   Επισύναψη παραστατικών (τιμολόγια, αποδείξεις) σε κάθε δαπάνη.
    *   Αυτόματη δημιουργία δαπανών από προγραμματισμένες εργασίες συντήρησης.

3.  **Συναλλαγές και Υπόλοιπα:**
    *   Παρακολούθηση όλων των οικονομικών κινήσεων (χρεώσεις, πληρωμές, επιστροφές).
    *   Τήρηση και ενημέρωση του οικονομικού υπολοίπου για κάθε διαμέρισμα σε πραγματικό χρόνο.

4.  **Διαχείριση Εισπράξεων:**
    *   Καταγραφή πληρωμών από ιδιοκτήτες ή ενοίκους.
    *   Υποστήριξη πολλαπλών τρόπων πληρωμής (μετρητά, τραπεζική μεταφορά, κάρτα).
    *   Αυτόματη δημιουργία αποδείξεων για κάθε πληρωμή.

5.  **Μετρήσεις Ενοίκων:**
    *   Καταχώρηση μετρήσεων για υπηρεσίες όπως νερό, ηλεκτρικό ρεύμα και θέρμανση (θερμιδομετρητές ή ωρομετρητές).
    *   Υπολογισμός της κατανάλωσης για τη σωστή χρέωση.

6.  **Οικονομικές Αναφορές και Dashboards:**
    *   Παροχή συνοπτικής οικονομικής εικόνας για το κτίριο (ταμείο, οφειλές, αποθεματικό).
    *   Προβολή αναλυτικού ιστορικού οφειλών και πληρωμών για κάθε διαμέρισμα.
    *   Αυτόματος υπολογισμός και έκδοση κοινοχρήστων για συγκεκριμένες χρονικές περιόδους.

7.  **Μηνιαίο Κλείσιμο:**
    *   Σύστημα για το οριστικό κλείσιμο των οικονομικών κάθε μήνα και τη μεταφορά υπολοίπων στον επόμενο.

### Διαχείριση Συντήρησης και Βλαβών (Maintenance App)

1.  **Διαχείριση Συνεργείων:**
    *   Καταγραφή και αξιολόγηση συνεργείων για διάφορες εργασίες (υδραυλικοί, ηλεκτρολόγοι, κ.λπ.).
    *   Αποθήκευση στοιχείων επικοινωνίας και ειδικοτήτων.

2.  **Αποδείξεις Παροχής Υπηρεσιών:**
    *   Καταχώρηση και διαχείριση αποδείξεων από συνεργεία για τις υπηρεσίες που παρείχαν.

3.  **Προγραμματισμένη Συντήρηση:**
    *   Δημιουργία, προγραμματισμός και παρακολούθηση εργασιών συντήρησης (π.χ. ετήσια συντήρηση καυστήρα).
    *   Ανάθεση εργασιών σε συγκεκριμένα συνεργεία.
    *   Παρακολούθηση εκτιμώμενου και πραγματικού κόστους.
    *   **Σύνδεση με την οικονομική διαχείριση** για την αυτόματη δημιουργία αντίστοιχων δαπανών.

4.  **Αιτήματα Βλαβών (Tickets):**
    *   Δυνατότητα για τους χρήστες (ενοίκους/διαχειριστές) να αναφέρουν βλάβες ή τεχνικά ζητήματα.
    *   Παρακολούθηση της κατάστασης και της προτεραιότητας κάθε αιτήματος.
    *   Ανάθεση των αιτημάτων σε συνεργεία ή εσωτερικούς υπευθύνους.

5.  **Εντολές Εργασίας (Work Orders):**
    *   Δυνατότητα δημιουργίας επίσημων εντολών εργασίας από τα αιτήματα βλαβών για την ανάθεση σε συνεργεία.

6.  **Προγράμματα Πληρωμών και Δόσεις:**
    *   Δημιουργία αναλυτικών προγραμμάτων πληρωμών για μεγάλα έργα συντήρησης.
    *   Διαχείριση δόσεων, με παρακολούθηση ημερομηνιών λήξης και κατάστασης πληρωμής.
    *   Δημιουργία αποδείξεων πληρωμής για κάθε δόση, με δυνατότητα ψηφιακής υπογραφής από το συνεργείο.
