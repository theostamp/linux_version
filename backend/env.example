# Backend Environment Variables Example
# Copy this file to .env and fill in your values

# Django Core Settings
DJANGO_SECRET_KEY=your-secret-key-change-this-in-production
DJANGO_DEBUG=False
DJANGO_ENV=production
ENV=production

# Django Security Settings (REQUIRED in production)
# IMPORTANT: Set these explicitly - no wildcards in production
DJANGO_ALLOWED_HOSTS=yourdomain.com,api.yourdomain.com,your-app.up.railway.app
CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://*.vercel.app,https://your-app.up.railway.app
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://*.vercel.app

# Railway Configuration
RAILWAY_PUBLIC_DOMAIN=your-app.up.railway.app
RAILWAY_ENVIRONMENT=production

# Database Configuration
DATABASE_URL=postgresql://user:password@host:port/dbname
# OR use individual variables:
# DB_NAME=postgres
# DB_USER=postgres
# DB_PASSWORD=password
# DB_HOST=localhost
# DB_PORT=5432

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379

# Tenant Configuration
TENANT_SCHEMA_NAME=demo
TENANT_BASE_DOMAIN=newconcierge.app  # Base domain for tenant subdomains (e.g., theo.newconcierge.app)

# Stripe Configuration
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
# IMPORTANT: In production this must be False (otherwise checkout/payment flows will be mocked).
STRIPE_MOCK_MODE=False

# Per-apartment Billing (V2)
# Enable only when Stripe prices are set and you want to migrate billing.
PER_APARTMENT_BILLING_ENABLED=False
STRIPE_WEB_PER_APARTMENT_PRICE_ID=price_web_per_apartment_dev
STRIPE_PREMIUM_ADDON_PER_APARTMENT_PRICE_ID=price_premium_addon_per_apartment_dev

# Email Configuration
EMAIL_BACKEND=users.mailersend_backend.MailerSendEmailBackend
MAILERSEND_API_KEY=your-mailersend-api-key
MAILERSEND_FROM_EMAIL=noreply@yourdomain.com
MAILERSEND_WEBHOOK_SECRET=your-mailersend-webhook-secret
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# Internal API Security
INTERNAL_API_SECRET_KEY=your-internal-api-secret-key

# Feature Flags (Production Hardening)
ENABLE_LEDGER_SYNC=false
ENABLE_KIOSK_SIGNED_QR=false
ENABLE_SECURE_PUBLIC_INFO=false
ENABLE_CELERY_BEAT=false
ENABLE_COLLECTIONS_OS=false
ENABLE_BULK_OPS=false
ENABLE_VOTE_AUTOMATION=false
ENABLE_VENDOR_PORTAL=false
ENABLE_HTTPONLY_AUTH=false
ENABLE_SLO_METRICS=false
ENABLE_DASHBOARD_CACHE_WARMER=false
DASHBOARD_OVERVIEW_CACHE_TTL=45
OFFICE_FINANCE_DASHBOARD_CACHE_TTL=30
OFFICE_FINANCE_YEARLY_CACHE_TTL=300

# Kiosk Signed QR (optional)
KIOSK_QR_TTL_SECONDS=900
KIOSK_QR_ONE_TIME=false
KIOSK_QR_SIGNING_SALT=kiosk-qr
KIOSK_QR_CACHE_ALIAS=default

# Refresh token cookie (Auth hardening)
REFRESH_COOKIE_NAME=refresh_token
REFRESH_COOKIE_PATH=/api/
REFRESH_COOKIE_DOMAIN=
REFRESH_COOKIE_HTTPONLY=true
REFRESH_COOKIE_SAMESITE=Lax
REFRESH_COOKIE_SECURE=
REFRESH_COOKIE_MAX_AGE=

# Google Gemini AI (for Invoice Scanning)
# Get your API key from: https://makersuite.google.com/app/apikey
# Or: Google Cloud Console > APIs & Services > Credentials > Create API Key
# Required API: Generative Language API (enable in Google Cloud Console)
# Preferred (used by ai_agent):
GOOGLE_GEMINI_API_KEY=your-google-gemini-api-key-here
# Legacy (kept for backwards compatibility in some scripts/integrations):
GOOGLE_API_KEY=your-google-gemini-api-key-here

# Optional: Override Gemini model ID (if your project/key doesn't have access to the defaults)
# Examples: gemini-2.0-flash, gemini-1.0-pro-vision-latest, gemini-pro-vision
GOOGLE_GEMINI_MODEL=

# Development Only
CLEANUP_DATABASE=false
AUTO_MAKEMIGRATIONS=false
